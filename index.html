<div id="cardContainer"></div>

<div id="buttonContainer">
  <button id="drawButton">カードを引く</button>
</div>

<style>
  #buttonContainer {
    text-align: center;
    margin-top: 2em;
  }

  #drawButton {
    padding: 0.8em 1.6em;
    font-size: 1.1em;
    background-color: #333;
    color: white;
    border: none;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    cursor: pointer;
    transition: 0.3s ease;
  }

  #drawButton:hover {
    background-color: #555;
    transform: scale(1.05);
  }

  #drawButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

</style>


<script>
  const drawButton = document.getElementById('drawButton');
  drawButton.disabled = true; // 最初は無効化

  let cards = [];

  fetch('data/cards.json')
    .then(response => {
      if (!response.ok) throw new Error('JSONファイルが見つかりません');
      return response.json();
    })
    .then(data => {
      cards = data;
      drawButton.disabled = false; // 読み込み完了後にボタンを有効化
    });

  drawButton.addEventListener('click', () => {
    const oneCard = cards[Math.floor(Math.random() * cards.length)];

    const html = `
      <div style="
        max-width: 600px;
        margin: 3em auto;
        padding: 2em;
        border-radius: 1em;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        background: white;
      ">
        <h2>${oneCard.title}</h2>
        <p><strong>キーワード：</strong>${oneCard.keywords}</p>
        <p>${oneCard.message}</p>
        <p><strong>問い：</strong>${oneCard.question}</p>
        <p><em>カテゴリー：${oneCard.category}</em></p>
      </div>
    `;

    document.getElementById('cardContainer').innerHTML = html;
  });
</script>
